(function(e){function t(t){for(var a,r,o=t[0],u=t[1],c=t[2],d=0,m=[];d<o.length;d++)r=o[d],s[r]&&m.push(s[r][0]),s[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),s=n.n(a);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("cadf"),n("551c"),n("097d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=(n("034f"),n("2877")),o={},u=Object(r["a"])(o,s,i,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"submit-info"},[a("div",{staticClass:"submit-content"},[e._m(0),a("div",{staticClass:"conten-middle"},[a("div",{staticClass:"middle-item"},[a("div",{staticClass:"content-notice"},[e._v("Email：")]),a("div",{staticClass:"content-value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"value-info",domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),a("div",{staticClass:"middle-item"},[a("div",{staticClass:"content-notice"},[e._v("Unique reference number(URN)：")]),a("div",{staticClass:"content-value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.referNum,expression:"referNum"}],staticClass:"value-info",domProps:{value:e.referNum},on:{input:function(t){t.target.composing||(e.referNum=t.target.value)}}})])]),a("div",{staticClass:"middle-item"},[a("div",{staticClass:"content-notice"},[e._v("Calendar(select a week)：")]),a("div",{staticClass:"content-value"},[a("el-date-picker",{staticClass:"value-info",staticStyle:{width:"280px",height:"40px"},attrs:{type:"week",placeholder:"choose a week",format:e.startTime,"value-format":"yyyy-MM-dd","picker-options":e.pickerOption},on:{change:e.changeTime},model:{value:e.chooseTime,callback:function(t){e.chooseTime=t},expression:"chooseTime"}})],1)]),a("div",{staticClass:"middle-item"},[a("div",{staticClass:"content-notice"},[e._v("Weekly turnover(£)：")]),a("div",{staticClass:"content-value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.weekNum,expression:"weekNum"}],staticClass:"value-info",domProps:{value:e.weekNum},on:{input:function(t){t.target.composing||(e.weekNum=t.target.value)}}})])])]),a("div",{staticClass:"content-bottom"},[a("div",{staticClass:"action-info"},[a("div",{staticClass:"cancel",on:{click:e.resetInfo}},[e._v("Reset")]),a("div",{staticClass:"sure",on:{click:e.makeSure}},[e._v("Submit "),a("img",{staticStyle:{width:"21px",height:"13px","margin-left":"10px"},attrs:{src:n("6b3a")}})])])])])]),e.showSure?a("div",{staticClass:"dialog-window"},[a("div",{staticClass:"submit-content"},[a("div",{staticClass:"close-area",on:{click:e.closeSure}},[a("img",{attrs:{src:n("cd5c")}})]),a("div",{staticClass:"conten-top"},[a("img",{staticClass:"logo-img",attrs:{src:n("bb74")}}),a("div",{staticStyle:{height:"100px"}},[a("span",{staticClass:"close-btn",on:{click:e.closeSure}},[e._v("Cancel")])])]),e._m(1),a("div",{staticClass:"sure-agein",on:{click:e.submit}},[e._v("Yes"),a("img",{staticStyle:{width:"21px",height:"13px","margin-left":"10px"},attrs:{src:n("6b3a")}})])])]):e._e(),e.showOkay?a("div",{staticClass:"dialog-window"},[a("div",{staticClass:"submit-content"},[e._m(2),e._m(3),a("div",{staticClass:"sure-agein",on:{click:e.goHome}},[e._v("Okay"),a("img",{staticStyle:{width:"21px",height:"13px","margin-left":"10px"},attrs:{src:n("6b3a")}})])])]):e._e()])},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conten-top"},[a("img",{staticClass:"logo-img",attrs:{src:n("bb74")}}),a("div",{staticClass:"logo-notice"},[e._v("Property Revenue Management System")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conten-middle"},[n("div",{staticClass:"sure-notice"},[e._v("You are about to submit")]),n("div",{staticClass:"sure-notice"},[e._v("your weekly revenue")]),n("div",{staticClass:"sure-notice",staticStyle:{"font-weight":"bold"}},[e._v("Area you sure?")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conten-top"},[a("img",{staticClass:"logo-img",attrs:{src:n("bb74")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conten-middle"},[n("div",{staticClass:"sure-notice",staticStyle:{"font-weight":"bold"}},[e._v("Thank you!")]),n("div",{staticClass:"sure-notice",staticStyle:{"font-weight":"bold"}},[e._v("We have received")]),n("div",{staticClass:"sure-notice",staticStyle:{"font-weight":"bold"}},[e._v("your submission")])])}],f=n("bc3a"),p=n.n(f),v=n("2f62"),g={openId:function(e){return e.user.openId},userInfo:function(e){return e.user.userInfo},loginStatus:function(e){return e.user.loginStatus}},h=g,A={},w={},S={},b={namespaced:!0,state:A,mutations:w,actions:S},C=(n("96cf"),n("1da1")),k=n("a78e"),y=n.n(k),N=n("335a"),x="Login-Status",O="User-Info",T="User-OpenId";function _(){return y.a.get(x)||0}function E(e){return y.a.set(x,e,{expires:7}),e}function I(){return y.a.remove(x),""}function B(){return N["a"].get(O,{})}function q(e){return N["a"].set(O,e),e}function U(){return N["a"].remove(O),{}}function P(){return N["a"].get(T,{})}function D(e){return N["a"].set(T,e),e}function Q(){return N["a"].remove(T),{}}function R(){for(var e=["130","131","132","133","135","137","138","170","173","181","186","187","189"],t=parseInt(10*Math.random()),n=e[t],a=0;a<8;a++)n+=Math.floor(10*Math.random());return n}var F={loginStatus:_(),openId:P(),userInfo:B()},V={SET_USERINFO:function(e,t){e.userInfo=t},SET_OPENID:function(e,t){e.openId=t},SET_LOGIN_STATUS:function(e,t){e.loginStatus=t}},J={loginWechatAuth:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var a,s,i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s={code:n},e.next=4,z(s);case 4:if(i=e.sent,0!==i.code){e.next=18;break}return a("SET_OPENID",D(i.data.openId)),e.next=9,Y();case 9:if(r=e.sent,400001!==r.code){e.next=17;break}return e.next=13,G({telephone:R()});case 13:o=e.sent,0!==o.code?a("SET_LOGIN_STATUS",1):a("SET_USERINFO",q(o.data)),e.next=18;break;case 17:a("SET_USERINFO",q(r.data));case 18:return e.abrupt("return",new Promise(function(e,t){e(i)}));case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),setLoginStatus:function(e,t){var n=e.commit;0!==t&&1!==t||(Q(),U(),n("SET_OPENID",null),n("SET_USERINFO",null)),n("SET_LOGIN_STATUS",E(t))},fedLogOut:function(){Q(),U(),I()},getUserByOpenId:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,Y(n);case 3:s=e.sent,0===s.code&&a("SET_USERINFO",q(s.data));case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},X={namespaced:!0,state:F,mutations:V,actions:J};a["default"].use(v["a"]);var H=new v["a"].Store({modules:{app:b,user:X},getters:h}),L=H,M=p.a.create({baseURL:"/api",timeout:6e3}),Z=function(e){return e.response&&e.response.status,Promise.reject(e.response)};M.interceptors.request.use(function(e){var t=L.getters.openId;return t&&(e.headers["openId"]=t),e},Z),M.interceptors.response.use(function(e){return e.data},Z);function W(e){return M({url:"/user/upload",method:"post",data:e})}function z(e){return M({url:"/front/loginByCode",method:"get",params:e})}function G(e){return M({url:"/front/register",method:"get",params:e})}function Y(){return M({url:"/front/getUserByOpenId",method:"get"})}var j={name:"Home",data:function(){return{showSure:!1,showOkay:!1,email:"",referNum:"",weekNum:"",chooseTime:"",pickerOption:{firstDayOfWeek:1},startTime:""}},created:function(){},methods:{changeTime:function(e){this.startTime=this.getNextDate(e,-1),this.chooseTime=this.getNextDate(e,-1)+"T00:00:00+08:00"},getNextDate:function(e,t){var n=new Date(e);n.setDate(n.getDate()+t);var a=n.getFullYear(),s=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,i=n.getDate()<10?"0"+n.getDate():n.getDate();return a+"-"+s+"-"+i},resetInfo:function(){this.email="",this.chooseTime="",this.referNum="",this.weekNum=""},makeSure:function(){0!=this.email.length?0!=this.referNum.length?0!=this.chooseTime.length?0!=this.weekNum.length?this.showSure=!0:this.$message.error("Please input weekly turnover!"):this.$message.error("Please choose  time!"):this.$message.error("Please input  reference number!"):this.$message.error("Please input your eamil!")},submit:function(){var e=this,t=this,n={email:this.email,shop_union_id:this.referNum,turnover:parseFloat(this.weekNum),week_time:this.chooseTime};W(n).then(function(t){e.showSure=!1,e.showOkay=!0},function(e){e.data.err_desc&&t.$message.error(e.data.err_desc)})},goHome:function(){this.resetInfo(),this.showOkay=!1},closeSure:function(){this.showSure=!1}}},K=j,$=(n("7faa"),Object(r["a"])(K,d,m,!1,null,"1242ca36",null));$.options.__file="Index.vue";var ee=$.exports;a["default"].use(l["a"]);var te=new l["a"]({mode:"history",routes:[{path:"/",name:"index",component:ee}]}),ne=n("5c96"),ae=n.n(ne),se=(n("0fae"),n("b2d6")),ie=n.n(se);ne["Message"].install=function(e,t){e.prototype.$message=ne["Message"]},a["default"].use(ae.a,{locale:ie.a}),a["default"].component(ne["Button"].name,ne["Button"]),a["default"].use(ne["Message"]),a["default"].use(ne["DatePicker"]),a["default"].config.productionTip=!1,new a["default"]({router:te,store:L,render:function(e){return e(c)}}).$mount("#app")},"64a9":function(e,t,n){},"6b3a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAA2CAYAAABZV76QAAAE0klEQVR4Xu2c2Y8UVRSHv6OiomJwAZWIGuIuoLjDC2JwQwQNz/jss774XymJgLjgQkQFIYEAsswwuA4adhFRkGN+M6dIzVDV011dk0jVvUmnJ72l+5tzz/I755bRkOXuBtwNLAVeBBYAtwAngG+AD4HNwCEzOz9ZP1tfohHL3acAjwCrgFeAucA1wDlgO7AR+AzYZmbHJutHNwnoDcDzwFvAEuDaHLQzwE/A58B7wNbJgtokoNOAN4B3gPklFngA2BDbX1B/r9tSmwRUFvlaAH2mBJR858/AF8D78q1mdrhOqE0CegXwNPAm8CpwJ6DHitYPwMdhrQpYw2b2bx1gGwNUMNx9JrAQWB7R/p4SSBeAXyLqr4n7H83M+4XaNKD6PbcD2vIrgefCUq8qASWoivwfAV8pcJmZsoLKq1FAw0q1zW8FngJeBl4C7ishJIscBr4FPgiog/3kqY0DmoFz95sDqiK/0iht/6tLwP4GbAq/qvshMztbxUwbCzSs9Sbg8bDSZZH4l3ESVBUA64AvgX1m9nevUBsNNKAq4X8iclSVpXOAqSWgjgJfA59EETBgZn/2ArXxQAPqjcCjOUvV32UplaDuBNZHvrrLzFRpdbVaATSgyiolmCj5l3jyAHB9CaVTwJao/z8F9pqZHptwtQZobvs/FJaqXPWxEFCKQB0Hvo+USqnVdjM7PRHRVgENqMpJBVJAZalSqOQSipYA7ghLVa6628wEunS1DmhAvQ64P6opuQBlAgpeResPRfzc9t9iZtJYC1crgQZUBaV5oZ0q+ZfVTi/h9BewJyK/gtUOMztS9NrWAg2oUqiURklHXRHplQqCoqVIPxhQlVZtLoLaaqAZNXe/N/ypLFUl6wygqP7/B9gfib8KgO/MTAXBxZWAjqpUVwJ3AYuB10MGvKPEUlU9HYpSVYFqU15THQPU3VXr6sOzx/uWszpFxP/Rc5kWKhFFkV8uQMm/mnxyC+OLAAnVQyH7yadKU5VSdWEEXDS4bgNU+6qx1TagAqSb4KlzqqgvXfXBDttfMp/U/m0hqqirOmzu/nD8J1Q5yHe0EWi2WbSdZUza7soAlFqV+dPsPYr2W0P+GxTQd8N/qLGltEFbvq1LQUfbX65Pu1U8irb8eD5qSytXHRJQtValFcrU06pOQPHmsICqDTCr+uekd+YInElA67WHEaBpy9cDdaQ/lYLSWJj9BqWDKW0aC7Rq2iQxei0wkBL7UaD9JvYqQTUz9WsqPUeBVik9D0ZD79LSsx6ffPl+Sk4c0aSJJk40I9VJHFEdf7GPXyqOXL5I+vvmId9JutPtySTfVeTp7nmBWZap/r1KzqIlgXkgWstJYB5PyN17bYHsDpipBVIAs0qTTv153TT5nJp0GVR3T23kii7ykre5u1rFvQw6qNOpSec06FCwzXsZxTkZorGO4qRRnAKYvQ6LaVpELQ0JR5oWScNiOZ+Zxhlr9Jlp4LZGmGkkvA6YkbCnQws1wcxawBI30rGafqG6u3roi+Ik3QvRzS362HTwayLYcV5elrk6hmlnp6OJE1Hr8Ly7a+JFI4lvA8+WvDQdnu2Wsbun493dwurmdVGnpwsQdAOrm9d0uESGtnl2iQzV5ukSGV0C7XQRFx2OVW2uE8eTehGX/wDYh+XES4FT0gAAAABJRU5ErkJggg=="},"7faa":function(e,t,n){"use strict";var a=n("c3f2"),s=n.n(a);s.a},bb74:function(e,t,n){e.exports=n.p+"img/brand-logo.4dd9784b.png"},c3f2:function(e,t,n){},cd5c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAQlJREFUSA3tlT0LwjAQhkuHgu79Df56RzcXwV3wY3F0EIciCO71eaWBVGyatI045OAlTXuXJ7nzTJYlSxlIGfhFBuq6XqEtKn15+M7QEu1R4RvX8iNQUNkB9cLxEXSNZBc0GFwSfNQqmBPOdxt6Zb5onSJ0wgK98MmhZpMueDSoCx4d2gFX7TdINr6mBtI1AlHNT6I1dmMM/iHlXQDH+yffKuv7g+e7NZ/+kZPZLaOTnptTO1tt1E4+oO+a8s5uNdW8908maBPfoGaBaHAXNBrcBxoFDli3jMyrT/Gza75jPqRrsoxAXW26Zbz7FF/BBa3Q3GQkaCSwkIKCcCYmHwwNhSX/lIG/ycAL/r3t3mSpxl4AAAAASUVORK5CYII="}});
//# sourceMappingURL=app.bf8d319c.js.map