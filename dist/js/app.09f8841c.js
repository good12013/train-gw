(function(e){function t(t){for(var s,i,o=t[0],u=t[1],c=t[2],d=0,f=[];d<o.length;d++)i=o[d],r[i]&&f.push(r[i][0]),r[i]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=(n("034f"),n("2877")),o={},u=Object(i["a"])(o,r,a,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page"},[s("div",{staticClass:"submit-info"},[s("div",{staticClass:"submit-content"},[e._m(0),s("div",{staticClass:"conten-middle"},[s("div",{staticClass:"middle-item"},[s("div",{staticClass:"content-notice"},[e._v("Email：")]),s("div",{staticClass:"content-value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"value-info",domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),s("div",{staticClass:"middle-item"},[s("div",{staticClass:"content-notice"},[e._v("Unique reference number(URN)：")]),s("div",{staticClass:"content-value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.referNum,expression:"referNum"}],staticClass:"value-info",domProps:{value:e.referNum},on:{input:function(t){t.target.composing||(e.referNum=t.target.value)}}})])]),s("div",{staticClass:"middle-item"},[s("div",{staticClass:"content-notice"},[e._v("Calendar(select a week)：")]),s("div",{staticClass:"content-value"},[s("el-date-picker",{staticClass:"value-info",staticStyle:{width:"280px",height:"40px"},attrs:{type:"week",placeholder:"choose a week",format:"yyyy-MM-ddT00:00:00+08:00"},model:{value:e.chooseTime,callback:function(t){e.chooseTime=t},expression:"chooseTime"}})],1)]),s("div",{staticClass:"middle-item"},[s("div",{staticClass:"content-notice"},[e._v("Weekly turnover(£)：")]),s("div",{staticClass:"content-value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.weekNum,expression:"weekNum"}],staticClass:"value-info",domProps:{value:e.weekNum},on:{input:function(t){t.target.composing||(e.weekNum=t.target.value)}}})])])]),s("div",{staticClass:"content-bottom"},[s("div",{staticClass:"action-info"},[s("div",{staticClass:"cancel",on:{click:e.resetInfo}},[e._v("Reset")]),s("div",{staticClass:"sure",on:{click:e.makeSure}},[e._v("Submit →")])])])])]),e.showSure?s("div",{staticClass:"dialog-window"},[s("div",{staticClass:"submit-content"},[s("div",{staticClass:"close-area",on:{click:e.closeSure}},[s("img",{attrs:{src:n("cd5c")}})]),s("div",{staticClass:"conten-top"},[s("img",{staticClass:"logo-img",attrs:{src:n("bb74")}}),s("div",{staticStyle:{height:"100px"}},[s("span",{staticClass:"close-btn",on:{click:e.closeSure}},[e._v("Cancel")])])]),e._m(1),s("div",{staticClass:"sure-agein",on:{click:e.submit}},[e._v("Yes →")])])]):e._e(),e.showOkay?s("div",{staticClass:"dialog-window"},[s("div",{staticClass:"submit-content"},[e._m(2),e._m(3),s("div",{staticClass:"sure-agein",on:{click:e.goHome}},[e._v("Okay →")])])]):e._e()])},f=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"conten-top"},[s("img",{staticClass:"logo-img",attrs:{src:n("bb74")}}),s("div",[e._v("Property Revenue Management System")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conten-middle"},[n("div",{staticClass:"sure-notice"},[e._v("You are about to submit")]),n("div",{staticClass:"sure-notice"},[e._v("your weekly revenue")]),n("div",{staticClass:"sure-notice",staticStyle:{color:"#111111"}},[e._v("Area you sure?")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"conten-top"},[s("img",{staticClass:"logo-img",attrs:{src:n("bb74")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conten-middle"},[n("div",{staticClass:"sure-notice",staticStyle:{color:"#111111"}},[e._v("Thank you!")]),n("div",{staticClass:"sure-notice",staticStyle:{color:"#111111"}},[e._v("We have received")]),n("div",{staticClass:"sure-notice",staticStyle:{color:"#111111"}},[e._v("your submission")])])}],m=n("bc3a"),v=n.n(m),p=n("2f62"),h={openId:function(e){return e.user.openId},userInfo:function(e){return e.user.userInfo},loginStatus:function(e){return e.user.loginStatus}},g=h,S={},_={},w={},b={namespaced:!0,state:S,mutations:_,actions:w},C=(n("96cf"),n("1da1")),y=n("a78e"),k=n.n(y),A=n("335a"),N="Login-Status",I="User-Info",O="User-OpenId";function T(){return k.a.get(N)||0}function x(e){return k.a.set(N,e,{expires:7}),e}function E(){return k.a.remove(N),""}function P(){return A["a"].get(I,{})}function R(e){return A["a"].set(I,e),e}function M(){return A["a"].remove(I),{}}function U(){return A["a"].get(O,{})}function B(e){return A["a"].set(O,e),e}function j(){return A["a"].remove(O),{}}function F(){for(var e=["130","131","132","133","135","137","138","170","173","181","186","187","189"],t=parseInt(10*Math.random()),n=e[t],s=0;s<8;s++)n+=Math.floor(10*Math.random());return n}var $={loginStatus:T(),openId:U(),userInfo:P()},X={SET_USERINFO:function(e,t){e.userInfo=t},SET_OPENID:function(e,t){e.openId=t},SET_LOGIN_STATUS:function(e,t){e.loginStatus=t}},G={loginWechatAuth:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var s,r,a,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,r={code:n},e.next=4,Z(r);case 4:if(a=e.sent,0!==a.code){e.next=18;break}return s("SET_OPENID",B(a.data.openId)),e.next=9,J();case 9:if(i=e.sent,400001!==i.code){e.next=17;break}return e.next=13,q({telephone:F()});case 13:o=e.sent,0!==o.code?s("SET_LOGIN_STATUS",1):s("SET_USERINFO",R(o.data)),e.next=18;break;case 17:s("SET_USERINFO",R(i.data));case 18:return e.abrupt("return",new Promise(function(e,t){e(a)}));case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),setLoginStatus:function(e,t){var n=e.commit;0!==t&&1!==t||(j(),M(),n("SET_OPENID",null),n("SET_USERINFO",null)),n("SET_LOGIN_STATUS",x(t))},fedLogOut:function(){j(),M(),E()},getUserByOpenId:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.next=3,J(n);case 3:r=e.sent,0===r.code&&s("SET_USERINFO",R(r.data));case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},L={namespaced:!0,state:$,mutations:X,actions:G};s["default"].use(p["a"]);var H=new p["a"].Store({modules:{app:b,user:L},getters:g}),Q=H,D=v.a.create({baseURL:"/api",timeout:6e3}),K=function(e){return e.response&&e.response.status,Promise.reject(e.response)};D.interceptors.request.use(function(e){var t=Q.getters.openId;return t&&(e.headers["openId"]=t),e},K),D.interceptors.response.use(function(e){return e.data},K);function Y(e){return D({url:"/user/upload",method:"post",data:e})}function Z(e){return D({url:"/front/loginByCode",method:"get",params:e})}function q(e){return D({url:"/front/register",method:"get",params:e})}function J(){return D({url:"/front/getUserByOpenId",method:"get"})}var W={name:"Home",data:function(){return{showSure:!1,showOkay:!1,email:"",referNum:"",weekNum:"",chooseTime:""}},created:function(){},methods:{changeTime:function(e,t){console.log(e,t)},resetInfo:function(){this.email="",this.chooseTime="",this.referNum="",this.weekNum=""},makeSure:function(){0!=this.email.length?0!=this.referNum.length?0!=this.chooseTime.length?0!=this.weekNum.length?this.showSure=!0:this.$message.error("Please input weekly turnover!"):this.$message.error("Please choose  time!"):this.$message.error("Please input  reference number!"):this.$message.error("Please input your eamil!")},submit:function(){var e=this,t=this,n={email:this.email,shop_union_id:this.referNum,turnover:this.weekNum,week_time:"2020-12-14T00:00:00+08:00"};Y(n).then(function(t){e.showSure=!1,e.showOkay=!0},function(e){e.data.err_desc&&t.$message.error(e.data.err_desc)})},goHome:function(){this.showOkay=!1},closeSure:function(){this.showSure=!1}}},z=W,V=(n("feb4"),Object(i["a"])(z,d,f,!1,null,"16db8df4",null));V.options.__file="Index.vue";var ee=V.exports;s["default"].use(l["a"]);var te=new l["a"]({mode:"history",routes:[{path:"/",name:"index",component:ee}]}),ne=(n("0fae"),n("5c96"));ne["Message"].install=function(e,t){e.prototype.$message=ne["Message"]},s["default"].component(ne["Button"].name,ne["Button"]),s["default"].use(ne["Message"]),s["default"].use(ne["DatePicker"]),s["default"].config.productionTip=!1,new s["default"]({router:te,store:Q,render:function(e){return e(c)}}).$mount("#app")},"64a9":function(e,t,n){},a7e9:function(e,t,n){},bb74:function(e,t,n){e.exports=n.p+"img/brand-logo.4dd9784b.png"},cd5c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAQlJREFUSA3tlT0LwjAQhkuHgu79Df56RzcXwV3wY3F0EIciCO71eaWBVGyatI045OAlTXuXJ7nzTJYlSxlIGfhFBuq6XqEtKn15+M7QEu1R4RvX8iNQUNkB9cLxEXSNZBc0GFwSfNQqmBPOdxt6Zb5onSJ0wgK98MmhZpMueDSoCx4d2gFX7TdINr6mBtI1AlHNT6I1dmMM/iHlXQDH+yffKuv7g+e7NZ/+kZPZLaOTnptTO1tt1E4+oO+a8s5uNdW8908maBPfoGaBaHAXNBrcBxoFDli3jMyrT/Gza75jPqRrsoxAXW26Zbz7FF/BBa3Q3GQkaCSwkIKCcCYmHwwNhSX/lIG/ycAL/r3t3mSpxl4AAAAASUVORK5CYII="},feb4:function(e,t,n){"use strict";var s=n("a7e9"),r=n.n(s);r.a}});
//# sourceMappingURL=app.09f8841c.js.map